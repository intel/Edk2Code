<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Advanced Features - Edk2Code Vscode Extension</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../css/extra.css" rel="stylesheet" />
        <link href="../css/codicon.min.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Advanced Features";
        var mkdocs_page_input_path = "advance_features.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Edk2Code Vscode Extension
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../introduction/">Introduction</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../getting_started/">Getting Started</a>
                </li>
              </ul>
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href="#">Advanced Features</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#indexing-source-code">Indexing Source Code</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#rebuilding-index-database">Rebuilding Index Database</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#enabling-compile-information">Enabling Compile Information</a>
        <ul>
    <li class="toctree-l4"><a class="reference internal" href="#why-compile-information-is-important">Why Compile Information is Important</a>
    </li>
    <li class="toctree-l4"><a class="reference internal" href="#how-to-enable-compile-information">How to Enable Compile Information</a>
    </li>
        </ul>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#dsc-analysis">DSC Analysis</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#reference-tree">Reference Tree</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#dim-unused-code">Dim Unused Code:</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#show-definition-values">Show definition Values</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#error-detection">Error Detection</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#commands">Commands</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#open-module">Open Module</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#open-library">Open Library</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#module-map">Module Map</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#viewing-library-and-source-file-trees">Viewing Library and Source File Trees</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#copying-paths-from-module-map">Copying Paths from Module Map</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#compilation-database">Compilation Database</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#generating-and-using-compile_commandsjson">Generating and Using compile_commands.json</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#cscope-integration">Cscope Integration</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#using-cscopefiles">Using cscope.files</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../configuration/">Configuration</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Edk2Code Vscode Extension</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">Advanced Features</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="advanced-features">Advanced Features</h1>
<h2 id="indexing-source-code">Indexing Source Code</h2>
<p>The index in EDK2Code is created by analyzing the project's DSC files, using the build folder as a reference. This indexing process is essential for enabling the advanced features of the EDK2Code extension, which significantly enhance the development experience for EDK2 projects.</p>
<p>The indexing process involves parsing the DSC (Driver, SMM, and UEFI) files, which are key configuration files in EDK2 projects, to build a comprehensive map of the code structure. The build folder is used as a reference during this process to gather all necessary compilation data, ensuring that the index accurately reflects the project's state. This index database allows the extension to offer various capabilities, such as:</p>
<ul>
<li><strong>Fast Code Navigation</strong>: Quickly jump to definitions, references, and declarations within the codebase.</li>
<li><strong>Accurate Code Completion</strong>: Provide context-aware suggestions as you type, improving coding efficiency.</li>
<li><strong>Error Detection</strong>: Highlight potential issues in the code, such as syntax errors or undefined references.</li>
<li><strong>Enhanced Readability</strong>: Improve the readability of EDK2 source files through syntax highlighting and code outlining.</li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Advance features require the index database.</p>
</div>
<h3 id="rebuilding-index-database">Rebuilding Index Database</h3>
<p>To leverage the full potential of the EDK2Code extension, it is essential to have an up-to-date index database. You can rebuild the index database whenever there are significant changes to the codebase that might affect the existing index. This process is initiated through the command palette in Visual Studio Code:</p>
<pre class="highlight"><code>&gt; EDK2: Rebuild index database</code></pre>
<p>During this process, you will be prompted to select your build directory. The extension will then detect the compilations within this directory, allowing you to choose one or multiple compilations to be included in the index. Once the indexing is complete, the extension will update its database, enabling all the advanced features.</p>
<p><img alt="" src="../images/rebuild_index.gif" /></p>
<h3 id="enabling-compile-information">Enabling Compile Information</h3>
<p>Enabling compile information is an optional but highly recommended step to fully utilize the capabilities of the EDK2Code extension. By providing detailed compile information, the extension can offer more accurate and context-aware features, enhancing your development workflow.</p>
<h4 id="why-compile-information-is-important">Why Compile Information is Important</h4>
<ol>
<li>
<p><strong>Enhanced Code Navigation</strong>: With compile information, the extension can more precisely map the relationships between different parts of the code. This allows for faster and more accurate navigation, such as jumping to definitions and references.</p>
</li>
<li>
<p><strong>Improved Code Completion</strong>: Compile information enables the extension to offer more accurate and context-aware code suggestions as you type, which can significantly speed up coding and reduce errors.</p>
</li>
<li>
<p><strong>Accurate Error Detection</strong>: By understanding the compilation context, the extension can more effectively identify potential issues in the code, such as syntax errors or undefined references, and highlight them for the developer.</p>
</li>
<li>
<p><strong>Better Readability</strong>: Compile information helps the extension provide enhanced syntax highlighting and code outlining, making the code easier to read and understand.</p>
</li>
</ol>
<h4 id="how-to-enable-compile-information">How to Enable Compile Information</h4>
<p>To enable compile information, you need to activate the build report feature in the EDK2 build process by setting the <code>-Y COMPILE_INFO</code> flag. This will generate detailed compile information that the EDK2Code extension can use.</p>
<p>For example, if you want to build <code>EmulatorPkg</code> from the EDK2 source, your build command will look like this:</p>
<pre class="highlight"><code class="language-shell">build -p EmulatorPkg\EmulatorPkg.dsc -t VS2019 -a IA32 -Y COMPILE_INFO -y BuildReport.log</code></pre>
<p>This command will generate compile information in your build folder, specifically in the <code>CompileInfo</code> directory:</p>
<pre class="highlight"><code>x:\Edk2\Build\EmulatorIA32\DEBUG_VS2019\CompileInfo</code></pre>
<p>By enabling compile information, you ensure that the EDK2Code extension has access to all the necessary details about your project's compilation process, allowing it to provide the most accurate and useful features possible.</p>
<h2 id="dsc-analysis">DSC Analysis</h2>
<p>The DSC files are critical components of EDK2 projects, providing configurations and build instructions. Advanced DSC analysis is a powerful feature of the EDK2Code extension that helps developers understand and manage these configurations more effectively. The analysis involves parsing the DSC files to extract valuable information about the project's structure and dependencies.</p>
<h3 id="reference-tree">Reference Tree</h3>
<p>This feature shows how DSC files are included and referenced within the project. By visualizing the inclusion hierarchy, developers can easily understand the relationships between different DSC files and how they contribute to the overall project structure. This helps in managing complex configurations and ensuring that all necessary files are correctly referenced.</p>
<h3 id="dim-unused-code">Dim Unused Code:</h3>
<p>The extension can identify and dim unused code within the DSC files. This helps developers quickly spot and clean up any code that is not being utilized, leading to a more efficient and maintainable codebase. By highlighting unused sections, the extension ensures that developers focus only on the relevant and active parts of the configuration.</p>
<p><img alt="" src="../images/dsc_defines.gif" /></p>
<h3 id="show-definition-values">Show definition Values</h3>
<p>Mouse hover over DSC definitions and PCD's can display the current values of definitions, providing developers with a clear understanding of the build environment and configurations used in the project. This makes it easier to debug configuration issues and verify that the correct settings are being applied.</p>
<p><img alt="60a0edf4-46f1-4b2a-9436-96267513c5a5" src="../images/60a0edf4-46f1-4b2a-9436-96267513c5a5.png" /></p>
<h3 id="error-detection">Error Detection</h3>
<p>The DSC analysis can identify potential issues within the DSC files, such incorrect paths, duplicated libraries, etc. These issues are highlighted and shown in the Visual Studio Code "Problems" window.</p>
<div class="admonition abstract">
<p class="admonition-title">Current support</p>
<ul class="task-list">
<li class="task-list-item"><input type="checkbox" disabled/> Section is empty</li>
<li class="task-list-item"><input type="checkbox" disabled/> Mixed section types are not allowed</li>
<li class="task-list-item"><input type="checkbox" disabled/> Unknown section type</li>
<li class="task-list-item"><input type="checkbox" disabled/> Syntax error</li>
<li class="task-list-item"><input type="checkbox" disabled/> Statement has no key</li>
<li class="task-list-item"><input type="checkbox" disabled checked/> Duplicate statement</li>
<li class="task-list-item"><input type="checkbox" disabled/> Undefined token space GUID</li>
<li class="task-list-item"><input type="checkbox" disabled checked/> Include path not found</li>
<li class="task-list-item"><input type="checkbox" disabled/> Nested packages are not allowed</li>
<li class="task-list-item"><input type="checkbox" disabled checked/> Duplicate declaration</li>
<li class="task-list-item"><input type="checkbox" disabled/> Duplicate include path</li>
<li class="task-list-item"><input type="checkbox" disabled/> Duplicate GUID</li>
<li class="task-list-item"><input type="checkbox" disabled/> Undefined library class</li>
<li class="task-list-item"><input type="checkbox" disabled/> Syntax error in path</li>
<li class="task-list-item"><input type="checkbox" disabled/> Duplicate include file</li>
<li class="task-list-item"><input type="checkbox" disabled checked/> Missing path</li>
<li class="task-list-item"><input type="checkbox" disabled checked/> Conditional block missform</li>
<li class="task-list-item"><input type="checkbox" disabled/> Unused symbol</li>
<li class="task-list-item"><input type="checkbox" disabled/> Empty file</li>
<li class="task-list-item"><input type="checkbox" disabled checked/> Inactive code</li>
<li class="task-list-item"><input type="checkbox" disabled checked/> Edk2Code unsupported</li>
</ul>
</div>
<p><img alt="55e73504-3e8b-4b58-a9fa-5fc64a89614f" src="../images/55e73504-3e8b-4b58-a9fa-5fc64a89614f.png" /></p>
<h2 id="commands">Commands</h2>
<p>This commands are only accessible using the command palette <code>F1</code> or <code>Ctrl + Shift + P</code></p>
<h3 id="open-module">Open Module</h3>
<p>Shows a list of all modules compiled 
<pre class="highlight"><code>&gt; EDK2: Open Module</code></pre></p>
<p><img alt="open_modules" src="../images/open_modules.png" /></p>
<h3 id="open-library">Open Library</h3>
<p>Shows a list of all libraries compiled 
<pre class="highlight"><code>&gt; EDK2: Open Library</code></pre>
<img alt="library-list" src="../images/library-list.png" /></p>
<h2 id="module-map">Module Map</h2>
<h3 id="viewing-library-and-source-file-trees">Viewing Library and Source File Trees</h3>
<h3 id="copying-paths-from-module-map">Copying Paths from Module Map</h3>
<h2 id="compilation-database">Compilation Database</h2>
<h3 id="generating-and-using-compile_commandsjson">Generating and Using compile_commands.json</h3>
<h2 id="cscope-integration">Cscope Integration</h2>
<h3 id="using-cscopefiles">Using cscope.files</h3>
              
            </div>
          </div><footer>
      <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
          <a href="../getting_started/" class="btn btn-neutral float-left" title="Getting Started"><span class="icon icon-circle-arrow-left"></span> Previous</a>
          <a href="../configuration/" class="btn btn-neutral float-right" title="Configuration">Next <span class="icon icon-circle-arrow-right"></span></a>
      </div>
  
    <hr/>
  
    <div role="contentinfo">
      <!-- Copyright etc -->
    </div>

    <ul>
        <li><a href="https://github.com/intel/Edk2Code"><span class="codicon codicon-github-inverted" title="Copy to clipboard"></span> Github</a></li>
        <li><a href="https://marketplace.visualstudio.com/items?itemName=intel-corporation.edk2code">Visual Studio Code Marketplace</a></li>
        <li><a href="https://github.com/tianocore/tianocore.github.io/wiki/EDK-II">EDK2</a></li>
    </ul>


  </footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../getting_started/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../configuration/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../js/popper.min.js"></script>
      <script src="../js/tippy-bundle.umd.min.js"></script>
      <script src="../js/clipboard.min.js"></script>
      <script src="../js/extra.js"></script>
      <script src="https://buttons.github.io/buttons.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
